<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="MBrasebin">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Tester l'intégration - SimPLU3D tutorial</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Tester l'int\u00e9gration";
    var mkdocs_page_input_path = "envgeo/integration-test.md";
    var mkdocs_page_url = "/simplu3D-tutorial/envgeo/integration-test/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> SimPLU3D tutorial</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Accueil</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Premiers pas</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../begin/intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../begin/installation/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../begin/first_simulation/">Première simulation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../principe/intro/">Principe</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Environnement géographique</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../modelgeo/">Modèle géographique détaillé</a>
                </li>
                <li class="">
                    
    <a class="" href="../integration/">Processus d'intégration</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Tester l'intégration</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#verifier-lintegration-des-donnees">Vérifier l'intégration des données</a></li>
    

    <li class="toctree-l3"><a href="#jeu-de-donnees">Jeu de données</a></li>
    

    <li class="toctree-l3"><a href="#export-des-informations-du-modele-sous-forme-de-shapefile">Export des informations du modèle sous forme de Shapefile</a></li>
    

    <li class="toctree-l3"><a href="#visualisation-3d-des-informations-du-modele">Visualisation 3D des informations du modèle</a></li>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Générateur de formes</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../generator/intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../generator/principe/">Principe de fonctionnement du générateur</a>
                </li>
                <li class="">
                    
    <a class="" href="../../generator/custom-generator/">Paramétrer la génération de cuboids</a>
                </li>
                <li class="">
                    
    <a class="" href="../../generator/custom-optimisation/">Personnaliser la fonction d'optimisation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../generator/custom-shape/">Personnaliser les formes utilisées</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Définition des contraintes morphologiques</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../rules/intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../rules/predicate/">Principe de fonctionnement du vérificateur</a>
                </li>
                <li class="">
                    
    <a class="" href="../../rules/formats/">Formats de règles</a>
                </li>
                <li class="">
                    
    <a class="" href="../../rules/topologique/">Définition de contraintes topologiques</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../export/">Exporter les résultats d'une simulation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../visitor/intro/">Suivre l'évolution d'une simulation</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../openmole/intro/">Distribuer avec OpenMole</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../development/">Futurs développements</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../about/">À propos</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../bibliographie/">Réalisations et bibliographie</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SimPLU3D tutorial</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Environnement géographique &raquo;</li>
        
      
    
    <li>Tester l'intégration</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/SimPLU3D/simplu3D-tutorial?query=root/path/docs/envgeo/integration-test.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="verifier-lintegration-des-donnees">Vérifier l'intégration des données<a class="headerlink" href="#verifier-lintegration-des-donnees" title="Permanent link"></a></h1>
<p>L'objectif de cette page est de proposer deux méthodes pour vérifier la bonne intégration des données à partir d'un jeu de données complet. Il est possible soit :
- d'exporter les instances du modèle sous forme de ShapeFiles ;
- de visualisation en 3D les informations du modèle.</p>
<p>Ces codes sont disponibles dans le projet du tutoriel dans le package <em>fr.ign.simplu3d.testIntegration</em>.</p>
<blockquote>
<p><img alt="#f03c15" src="https://placehold.it/15/f03c15/000000?text=+" /> <strong>Attention</strong>: : pour ces codes, la visualisation 3D et le chargement de MNT nécessitent l'utilisation de bibliothèques natives Java 3D (qui se trouvent dans le projet SimPLU3d-tutorial). Il est nécessaire de passer à la VM l'argument suivant :</p>
<p><strong>-Djava.library.path=./lib/native_libraries/linux-amd64</strong>  </p>
<p>La ligne précédente est définie pour Linux 64 bits, au besoin, il faut remplacer linux-amd64 par windows-i586 (windows 32bits), windows-amd64 (windows 64bits) ou linux-i386 (linux 32bits) en fonction de l'OS utilisé.</p>
</blockquote>
<h1 id="jeu-de-donnees">Jeu de données<a class="headerlink" href="#jeu-de-donnees" title="Permanent link"></a></h1>
<p>Un jeu de données complet suivant les <a href="../integration/">spécifications du processus d'intégration</a> est disponible dans le dossier <em>resources/completeDataSet</em>. On peut voir ci-dessous une carte de ces données :</p>
<p><img alt="Carte des données en entrée" src="../img/SituationBefore.png" /></p>
<p>On peut noter dans ce jeu de données la présence d'un MNT et de bâtiments 3D avec un toit typifié (ce qui explique les polygones internes aux polygones de bâtiments).</p>
<h1 id="export-des-informations-du-modele-sous-forme-de-shapefile">Export des informations du modèle sous forme de Shapefile<a class="headerlink" href="#export-des-informations-du-modele-sous-forme-de-shapefile" title="Permanent link"></a></h1>
<p>La classe <em>ExportAsShape</em> permet d'exporter l'instance de la classe <em>Environnement</em> sous forme de Shapefiles. Le code nécessite de déterminer un dossier de sortie pour pouvoir être appliqué (et il utilise le dossier de ressource qui se trouve dans le projet).</p>
<p>L'exécution du code génère une série de ShapeFiles représentés dans la carte suivante.</p>
<p><img alt="Carte des données en entrée" src="../img/SituationAfter.png" /></p>
<p>Les géométries en sortie sont triangulées car plaquées sur le MNT (s'il est utilisé). On retrouve les fichiers suivantes :</p>
<table>
<thead>
<tr>
<th align="left">Nom du fichier</th>
<th align="left">Contenu</th>
<th align="left">Attributs intéressants</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bpu.shp</td>
<td align="left">Unités foncières</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">parcelles.shp</td>
<td align="left">Parcelles</td>
<td align="left"><strong>ID</strong> : Code <br /> <strong>BounNum</strong> : Nombre de limites séparatives <br /> <strong>BuildNum</strong> : Nombre de bâtiments</td>
</tr>
<tr>
<td align="left">subParcels.shp</td>
<td align="left">Sous-parcelles</td>
<td align="left"><strong>NB Bat</strong> : Nombre de parties de bâtiments</td>
</tr>
<tr>
<td align="left">bordures.shp</td>
<td align="left">Limites séparatives des parcelles</td>
<td align="left"><strong>Type</strong> : type de la limite <br /> <strong>IDPAR</strong> : identifiant de la parcelle <br /> <strong>Adj</strong> : Identifiant de la parcelle adjacente <br />  <strong>SIDE</strong> : côté de la limite (droite ou gauche)</td>
</tr>
<tr>
<td align="left">bordures_translated.shp</td>
<td align="left">Limites séparatives translatée</td>
<td align="left"><strong>Type</strong> : type de la limite <br/> <strong>SIDE</strong> : côté de la limite (droite ou gauche)</td>
</tr>
<tr>
<td align="left">opposites.shp</td>
<td align="left">Lien entre une limite et la limite opposée</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">footprints.shp</td>
<td align="left">Emprise des bâtiments 3D</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">faitage.shp</td>
<td align="left">Faîtage des bâtiments</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">pignon.shp</td>
<td align="left">Pignons des bâtiments</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">roads.shp</td>
<td align="left">Surface des routes</td>
<td align="left"><strong>Nom</strong> : nom des routes</td>
</tr>
</tbody>
</table>
<p>Les limites séparatives du fichier <strong>bordures_translate.shp</strong> sont translatées vers l'intérieur des parcelles auxquelles ils appartiennent pour des raison de lisibilité (afin d'éviter les superposition entre limites appartenant à des parcelles adjacentes).
Pour les valeurs des énumération <strong>SIDE</strong> et <strong>Type</strong> des limites séparatives, vous pouvez vous référer aux énumérations <em>ParcelBoundaryType</em> et <em>ParcelBoundarySide</em>.</p>
<h1 id="visualisation-3d-des-informations-du-modele">Visualisation 3D des informations du modèle<a class="headerlink" href="#visualisation-3d-des-informations-du-modele" title="Permanent link"></a></h1>
<p>La classe <em>Integration3DViewer</em> permet une visualisation 3D d'un environnement. Il est possible de déterminer via une liste de thèmes, les informations à afficher dans la vue 3D. La liste des thèmes disponibles est consultable via l'énumération <em>RepEnvironnement.Theme</em>. Pour chaque thème, un rendu est prédéfini afin de visualiser les informations correspondantes.</p>
<p>Le visualisateur 3D utilisé est celui de GeOxygene3D vous trouverez plus de documentation sur comment représenter des données et sur comment naviguer sur <a href="http://ignf.github.io/geoxygene/documentation/application/3d.html">le site de GeOxygene</a>.</p>
<p><img alt="Fenêtre 3D représentant une visualisation de l'environnement" src="../img/viewer3D.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../generator/intro/" class="btn btn-neutral float-right" title="Introduction">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../integration/" class="btn btn-neutral" title="Processus d'intégration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>IGNF 2018-2019</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/SimPLU3D/simplu3D-tutorial" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../integration/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../generator/intro/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
